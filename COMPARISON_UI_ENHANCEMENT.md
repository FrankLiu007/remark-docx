# 转换方法比较 UI 增强

## 🎯 功能概述

为了更好地比较浏览器原生 XSL 转换和 mathml2omml 库转换的结果，我们增强了用户界面，提供了直观的并排比较功能。

## ✨ 新增功能

### 1. 双文本框并排显示
- **左侧文本框**：显示浏览器原生 XSL 转换的完整 OMML 结果
- **右侧文本框**：显示 mathml2omml 库转换的完整 OMML 结果
- **等宽字体**：使用 Courier New 字体，便于对比代码结构
- **颜色区分**：XSL 结果用绿色边框，库结果用蓝色边框

### 2. 详细信息显示
- **测试公式**：显示当前测试的 LaTeX 公式
- **MathML 长度**：显示输入的 MathML 内容长度
- **结果长度**：分别显示两种转换结果的字符数

### 3. 便捷操作按钮
- **📋 复制 XSL 结果**：一键复制 XSL 转换结果到剪贴板
- **📋 复制库结果**：一键复制 mathml2omml 库转换结果到剪贴板
- **🗑️ 清空比较**：清除所有比较结果

### 4. 响应式设计
- **桌面端**：两个文本框并排显示
- **移动端**：文本框垂直堆叠，便于查看

## 🔧 技术实现

### 状态管理
```javascript
let comparisonData = {
  xslResult: '',        // XSL 转换结果
  libraryResult: '',    // mathml2omml 库转换结果
  testFormula: '',      // 测试的 LaTeX 公式
  mathmlContent: ''     // 输入的 MathML 内容
};
```

### 比较函数
```javascript
function compareMethods() {
  // 1. 提取数学公式
  // 2. 转换为 MathML
  // 3. 调用比较函数
  // 4. 更新状态显示
}
```

### UI 组件
```svelte
<div class="comparison-textareas">
  <div class="textarea-group">
    <label for="xsl-result">🌐 浏览器原生 XSL 结果:</label>
    <textarea id="xsl-result" readonly value={comparisonData.xslResult}></textarea>
  </div>
  
  <div class="textarea-group">
    <label for="library-result">📚 mathml2omml 库结果:</label>
    <textarea id="library-result" readonly value={comparisonData.libraryResult}></textarea>
  </div>
</div>
```

## 🎨 样式特性

### 文本框样式
- **高度**：200px，可垂直调整
- **字体**：Courier New 等宽字体
- **边框**：左侧绿色（XSL），右侧蓝色（库）
- **背景**：白色，便于阅读

### 按钮样式
- **复制按钮**：绿色主题
- **清空按钮**：红色主题
- **悬停效果**：轻微上移和颜色变化

### 布局设计
- **网格布局**：使用 CSS Grid 实现响应式双列布局
- **间距统一**：15px 标准间距
- **圆角设计**：6-8px 圆角，现代化外观

## 🧪 使用方法

### 1. 基本使用
1. 在输入框中输入包含数学公式的 Markdown
2. 点击"🔬 比较转换方法"按钮
3. 查看下方并排显示的两种转换结果

### 2. 结果分析
- **长度对比**：查看两种结果的字符数差异
- **内容对比**：并排查看完整的 OMML 代码
- **结构分析**：使用等宽字体便于识别结构差异

### 3. 数据导出
- **复制功能**：点击复制按钮将结果复制到剪贴板
- **文本选择**：可以直接在文本框中选择部分内容
- **清空重置**：点击清空按钮重新开始比较

## 📊 预期效果

### 如果结果相同
- 两个文本框显示完全相同的 OMML 内容
- 长度信息显示相同的字符数
- 可以确认两种转换方法确实产生相同结果

### 如果结果不同
- 两个文本框显示不同的 OMML 内容
- 长度信息显示不同的字符数
- 可以详细分析具体的差异点

## 🔍 调试优势

1. **完整可见性**：不再局限于前100字符，可以看到完整结果
2. **并排对比**：直观地比较两种转换方法
3. **易于复制**：方便将结果复制到其他工具进行进一步分析
4. **响应式设计**：在各种设备上都能良好显示

这个增强的 UI 将帮助你更清楚地看到两种转换方法的真实差异，从而更好地理解为什么它们可能产生相同或不同的结果。
